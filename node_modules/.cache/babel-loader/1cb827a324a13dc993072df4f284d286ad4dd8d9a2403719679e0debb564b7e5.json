{"ast":null,"code":"import React from'react';import DownIcon from'../icons/DownIcon';import UpIcon from'../icons/UpIcon';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class TaskMenu extends React.Component{constructor(props){super(props);this.AddInput=this.AddInput.bind(this);this.MinusInput=this.MinusInput.bind(this);this.CheckValid=this.CheckValid.bind(this);this.SendForm=this.SendForm.bind(this);this.DeleteTask=this.DeleteTask.bind(this);}componentDidMount(){this.props.renderTasks();}AddInput(){const input=document.querySelector(\".Counter\");if(input.value<99){input.value=Number(input.value)+1;}console.log(\"Add\",input.value);}MinusInput(){const input=document.querySelector(\".Counter\");if(input.value>1){input.value=Number(input.value)-1;}console.log(\"Minus\",input.value);}CheckValid(event){const input=event.target;input.value=input.value.replace(/\\D/g,'');//remove all strings symbols\nif(input.value>99){input.value=99;}}SendForm(event){event.preventDefault();const form=event.target;const formData=new FormData(form);const formObject=Object.fromEntries(formData.entries());if(form.taskName.value===\"\"){return;}else if(form.taskRange.value===\"\"||form.taskRange.value<1){return;}this.props.OpenMenuTask();console.log(\"Send Form\");console.log(\"index: \",form.taskIndex.value);form.taskName.value=\"\";form.taskRange.value=\"1\";form.taskIndex.value=\"\";browser.runtime.sendMessage({command:\"TaskForm\",form:formObject},()=>{console.log(\"TaskForm FRONTEND\");this.props.renderTasks();});}DeleteTask(){this.props.OpenMenuTask();const index=Number(document.querySelector(\".taskIndex\").value);browser.runtime.sendMessage({command:\"DeleteTask\",index:index},()=>{console.log(\"DeleteTask FRONTEND\");this.props.renderTasks();});}render(){return/*#__PURE__*/_jsx(\"div\",{className:\"TaskMenu-container glass\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"TaskForm\",onSubmit:this.SendForm,children:[/*#__PURE__*/_jsx(\"input\",{name:\"taskName\",className:\"TaskName\",placeholder:\"What are you working on?\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Pomodoros\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"Counter-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"taskIndex\",className:\"taskIndex\",defaultValue:\"\"}),/*#__PURE__*/_jsx(\"input\",{name:\"taskRange\",className:\"Counter\",defaultValue:\"1\",onChange:this.CheckValid}),/*#__PURE__*/_jsx(\"div\",{className:\"PlusBtn glass\",onClick:this.AddInput,children:/*#__PURE__*/_jsx(UpIcon,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"MinusBtn glass\",onClick:this.MinusInput,children:/*#__PURE__*/_jsx(DownIcon,{})})]}),/*#__PURE__*/_jsxs(\"footer\",{className:\"glass\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"DeleteContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"DeleteBtn Btn\",onClick:this.DeleteTask,children:\"Delete\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"CancelBtn Btn\",onClick:this.props.OpenMenuTask,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"input\",{name:\"save\",type:\"submit\",value:\"Save\",className:\"SaveBtn glass Btn\"})]})]})});}}export default TaskMenu;","map":{"version":3,"names":["React","DownIcon","UpIcon","jsx","_jsx","jsxs","_jsxs","TaskMenu","Component","constructor","props","AddInput","bind","MinusInput","CheckValid","SendForm","DeleteTask","componentDidMount","renderTasks","input","document","querySelector","value","Number","console","log","event","target","replace","preventDefault","form","formData","FormData","formObject","Object","fromEntries","entries","taskName","taskRange","OpenMenuTask","taskIndex","browser","runtime","sendMessage","command","index","render","className","children","onSubmit","name","placeholder","type","defaultValue","onChange","onClick"],"sources":["C:/Users/vovas/OneDrive/Документы/GitHub/Firefocus-extension/src/Task/TaskMenu.js"],"sourcesContent":["import React from 'react';\r\nimport DownIcon from '../icons/DownIcon';\r\nimport UpIcon from '../icons/UpIcon';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nclass TaskMenu extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.AddInput = this.AddInput.bind(this);\r\n        this.MinusInput = this.MinusInput.bind(this);\r\n        this.CheckValid = this.CheckValid.bind(this);\r\n        this.SendForm = this.SendForm.bind(this);\r\n        this.DeleteTask = this.DeleteTask.bind(this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.props.renderTasks();\r\n    }\r\n\r\n    AddInput(){\r\n        const input = document.querySelector(\".Counter\");\r\n        if(input.value < 99 ){\r\n            input.value = Number(input.value) + 1;\r\n        }\r\n        console.log(\"Add\", input.value);\r\n    }\r\n\r\n    MinusInput(){\r\n        const input = document.querySelector(\".Counter\");\r\n        if(input.value > 1 ){\r\n            input.value = Number(input.value) - 1;\r\n        }\r\n        console.log(\"Minus\", input.value);\r\n    }\r\n\r\n    CheckValid(event){\r\n        const input = event.target;\r\n        input.value = input.value.replace(/\\D/g, ''); //remove all strings symbols\r\n        if(input.value > 99){\r\n            input.value = 99;\r\n        }\r\n    }\r\n\r\n    SendForm(event){\r\n        event.preventDefault();\r\n        const form = event.target;\r\n        const formData = new FormData(form);\r\n        const formObject = Object.fromEntries(formData.entries());\r\n\r\n        if(form.taskName.value === \"\"){\r\n            return;\r\n        } else if(form.taskRange.value === \"\" || form.taskRange.value < 1){\r\n            return;\r\n        }\r\n        this.props.OpenMenuTask();\r\n\r\n        console.log(\"Send Form\");\r\n        console.log(\"index: \", form.taskIndex.value);\r\n\r\n        form.taskName.value = \"\";\r\n        form.taskRange.value = \"1\";\r\n        form.taskIndex.value = \"\";\r\n        \r\n        browser.runtime.sendMessage({ command: \"TaskForm\", form: formObject }, () => {\r\n            console.log(\"TaskForm FRONTEND\");\r\n            this.props.renderTasks();\r\n          });\r\n    }   \r\n\r\n    DeleteTask(){\r\n        this.props.OpenMenuTask();\r\n        const index = Number(document.querySelector(\".taskIndex\").value);\r\n\r\n        browser.runtime.sendMessage({ command: \"DeleteTask\", index: index }, () => {\r\n            console.log(\"DeleteTask FRONTEND\");\r\n            this.props.renderTasks();\r\n          });\r\n    }\r\n    \r\n\r\n    \r\n\r\n    render(){\r\n        return (\r\n            <div className='TaskMenu-container glass'>\r\n                <form className='TaskForm' onSubmit={this.SendForm}>\r\n                    <input name=\"taskName\" className='TaskName' placeholder='What are you working on?'></input>\r\n                    <p>Pomodoros</p>\r\n                    <div className='Counter-container'>\r\n                        <input type=\"hidden\" name=\"taskIndex\" className='taskIndex' defaultValue=\"\"/>\r\n                        <input name=\"taskRange\" className='Counter' defaultValue=\"1\" onChange={this.CheckValid} />\r\n                        <div className='PlusBtn glass' onClick={this.AddInput}><UpIcon /></div>\r\n                        <div className='MinusBtn glass' onClick={this.MinusInput}><DownIcon /></div>\r\n                    </div>\r\n    \r\n                    \r\n                    <footer className='glass'>\r\n                        <div className='DeleteContainer'>\r\n                            <div className='DeleteBtn Btn' onClick={this.DeleteTask}>Delete</div>\r\n                        </div>\r\n                        <div className='CancelBtn Btn' onClick={this.props.OpenMenuTask}>Cancel</div>\r\n                        <input name=\"save\" type='submit' value=\"Save\" className='SaveBtn glass Btn'/>\r\n                    </footer>\r\n                </form>\r\n            </div>\r\n          );\r\n    }\r\n\r\n}\r\n\r\nTaskMenu.propTypes = {\r\n\tOpenMenuTask: PropTypes.func.isRequired,\r\n    renderTasks: PropTypes.func.isRequired\r\n};\r\n\r\nexport default TaskMenu;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}