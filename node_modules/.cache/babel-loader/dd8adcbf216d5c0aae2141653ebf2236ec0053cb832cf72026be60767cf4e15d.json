{"ast":null,"code":"import React from'react';import AddTask from'./AddTask';import TaskMenu from'./TaskMenu';import Task from'./Task';import RefreshIcon from'../icons/RefreshIcon';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class TaskManager extends React.Component{constructor(props){super(props);this.state={components:[]};this.RenderTasks=this.RenderTasks.bind(this);this.GetTask=this.GetTask.bind(this);}render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"TaskManager-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Tasks\"}),/*#__PURE__*/_jsx(RefreshIcon,{onClick:this.RenderTasks}),/*#__PURE__*/_jsx(\"div\",{className:\"addBtn-container\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"addBtn\",onClick:this.OpenMenuTask,children:[/*#__PURE__*/_jsx(\"span\",{className:\"line1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"line2\"})]})})]}),/*#__PURE__*/_jsx(TaskMenu,{renderTasks:this.RenderTasks,OpenMenuTask:this.OpenMenuTask}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Tasks\",children:this.state.components.map((component,index)=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>{this.GetTask(index,event);},children:component},index))}),/*#__PURE__*/_jsx(AddTask,{addTask:this.OpenMenuTask})]})]});}GetTask(index,event){console.log(event.target);console.log('Clicked component index:',index);if(event.target.className===\"doneIcon\"||event.target.className===\"line2\"||event.target.className===\"line1\"){console.log(\"Done\");this.DoneTask(index);}else{console.log(\"components: \",this.state.components);const name=this.state.components[index].props.taskName;const range=this.state.components[index].props.taskRange;this.OpenMenuTask(name,range,index);}}componentDidMount(){browser.runtime.onMessage.addListener(message=>{if(message.command===\"tasksUpdated\"){this.RenderTasks();}});}DoneTask(index){this.setState({components:[]});browser.runtime.sendMessage({command:\"DoneTask\",index:index},response=>{for(let i=response.length-1;i>=0;i--){this.setState(prevState=>({components:[...prevState.components,/*#__PURE__*/_jsx(Task,{done:response[i].done?\"done\":\"\",taskName:response[i].name,rangeDone:response[i].rangeDone,taskRange:response[i].range},prevState.components.length)]}));}});}RenderTasks(){this.setState({components:[]});browser.runtime.sendMessage({command:\"renderTasks\"},response=>{console.log(\"remder responce: \",response);for(let i=response.length-1;i>=0;i--){console.log(i);this.setState(prevState=>({components:[...prevState.components,/*#__PURE__*/_jsx(Task,{done:response[i].done?\"done\":\"\",taskName:response[i].name,rangeDone:response[i].rangeDone,taskRange:response[i].range},prevState.components.length)]}));}});}OpenMenuTask(name,range,index){console.log(\"open index: \",index);const addTask=document.querySelector(\".TaskMenu-container\");if(addTask.classList.contains(\"active\")){addTask.classList.remove(\"active\");}else{addTask.classList.add(\"active\");const form=addTask.querySelector(\".TaskForm\");form.taskName.value=\"\";form.taskRange.value=\"1\";form.taskIndex.value=\"\";if(arguments.length===3){form.taskName.value=name;form.taskRange.value=range;form.taskIndex.value=\"\"+index;console.log(form.taskIndex.value);}}}}export default TaskManager;","map":{"version":3,"names":["React","AddTask","TaskMenu","Task","RefreshIcon","jsx","_jsx","jsxs","_jsxs","TaskManager","Component","constructor","props","state","components","RenderTasks","bind","GetTask","render","className","children","onClick","OpenMenuTask","renderTasks","map","component","index","event","addTask","console","log","target","DoneTask","name","taskName","range","taskRange","componentDidMount","browser","runtime","onMessage","addListener","message","command","setState","sendMessage","response","i","length","prevState","done","rangeDone","document","querySelector","classList","contains","remove","add","form","value","taskIndex","arguments"],"sources":["C:/Users/vovas/web learn/FireFocus/firefocus-react/src/Task/TaskManager.js"],"sourcesContent":["import React from 'react';\r\nimport AddTask from './AddTask';\r\nimport TaskMenu from './TaskMenu';\r\nimport Task from './Task';\r\nimport RefreshIcon from '../icons/RefreshIcon';\r\n\r\nclass TaskManager extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            components: []\r\n        }\r\n        \r\n        this.RenderTasks = this.RenderTasks.bind(this);\r\n        this.GetTask = this.GetTask.bind(this);\r\n    }\r\n    render(){\r\n        return (\r\n            <div className='TaskManager-container'>\r\n                <div className='header' >\r\n                    <p>Tasks</p>\r\n\r\n                    <RefreshIcon onClick={this.RenderTasks}/>\r\n                    \r\n                    <div className='addBtn-container'>\r\n                        <span className='addBtn' onClick={this.OpenMenuTask}>\r\n                            <span className='line1'></span>\r\n                            <span className='line2'></span>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <TaskMenu renderTasks={this.RenderTasks} OpenMenuTask={this.OpenMenuTask}/>\r\n                <div className='content'>\r\n                    <div className='Tasks'>\r\n                    {this.state.components.map((component, index) => (\r\n                        \r\n                        <div key={index} onClick={() => {this.GetTask(index, event)}}>{component}</div>\r\n                    ))}\r\n                    </div>\r\n                    <AddTask addTask={this.OpenMenuTask}/>\r\n                </div>\r\n                \r\n            </div>\r\n          );\r\n    }\r\n\r\n\r\n    GetTask(index, event){\r\n        console.log(event.target)\r\n        console.log('Clicked component index:', index);\r\n        if(event.target.className === \"doneIcon\" || event.target.className === \"line2\" || event.target.className === \"line1\"){\r\n            console.log(\"Done\")\r\n            this.DoneTask(index);\r\n        } else {\r\n            console.log(\"components: \",this.state.components);\r\n            const name = this.state.components[index].props.taskName;\r\n            const range = this.state.components[index].props.taskRange;\r\n            this.OpenMenuTask(name,range,index);\r\n        }\r\n\r\n    }\r\n    \r\n    componentDidMount() {\r\n        browser.runtime.onMessage.addListener((message) => {\r\n          if (message.command === \"tasksUpdated\") {\r\n            this.RenderTasks();\r\n          }\r\n        });\r\n      }\r\n\r\n    DoneTask(index){\r\n        this.setState({components: []});\r\n        browser.runtime.sendMessage({ command: \"DoneTask\", index: index}, (response) => {\r\n            for(let i = response.length - 1; i >= 0; i--){\r\n                this.setState((prevState) => ({\r\n                    components: [\r\n                      ...prevState.components,\r\n                      <Task done={response[i].done ? \"done\" : \"\"} key={prevState.components.length} taskName={response[i].name} rangeDone={response[i].rangeDone} taskRange={response[i].range}/>\r\n                    ]\r\n                  }));\r\n            }\r\n        });\r\n    }\r\n\r\n    RenderTasks(){\r\n        this.setState({components: []});\r\n        browser.runtime.sendMessage({ command: \"renderTasks\"}, (response) => {\r\n            console.log(\"remder responce: \", response)\r\n            for(let i = response.length - 1; i >= 0; i--){\r\n                console.log(i)\r\n                this.setState((prevState) => ({\r\n                    components: [\r\n                      ...prevState.components,\r\n                      <Task done={response[i].done ? \"done\" : \"\"} key={prevState.components.length} taskName={response[i].name} rangeDone={response[i].rangeDone} taskRange={response[i].range}/>\r\n                    ]\r\n                  }));\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    OpenMenuTask(name, range, index){\r\n        console.log(\"open index: \", index)\r\n        const addTask = document.querySelector(\".TaskMenu-container\");\r\n        if(addTask.classList.contains(\"active\")){\r\n            addTask.classList.remove(\"active\");\r\n        } else {\r\n            addTask.classList.add(\"active\");\r\n            const form = addTask.querySelector(\".TaskForm\");\r\n            form.taskName.value = \"\";\r\n            form.taskRange.value = \"1\";\r\n            form.taskIndex.value = \"\";\r\n            if(arguments.length === 3){\r\n                form.taskName.value = name;\r\n                form.taskRange.value = range;\r\n                form.taskIndex.value = \"\" + index;\r\n                console.log(form.taskIndex.value)\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default TaskManager;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,CAAAC,WAAW,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,WAAW,QAAS,CAAAT,KAAK,CAACU,SAAU,CACtCC,WAAWA,CAACC,KAAK,CAAC,CACd,KAAK,CAACA,KAAK,CAAC,CACZ,IAAI,CAACC,KAAK,CAAG,CACTC,UAAU,CAAE,EAChB,CAAC,CAED,IAAI,CAACC,WAAW,CAAG,IAAI,CAACA,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC,CAC9C,IAAI,CAACC,OAAO,CAAG,IAAI,CAACA,OAAO,CAACD,IAAI,CAAC,IAAI,CAAC,CAC1C,CACAE,MAAMA,CAAA,CAAE,CACJ,mBACIV,KAAA,QAAKW,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAClCZ,KAAA,QAAKW,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACnBd,IAAA,MAAAc,QAAA,CAAG,OAAK,CAAG,CAAC,cAEZd,IAAA,CAACF,WAAW,EAACiB,OAAO,CAAE,IAAI,CAACN,WAAY,CAAC,CAAC,cAEzCT,IAAA,QAAKa,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC7BZ,KAAA,SAAMW,SAAS,CAAC,QAAQ,CAACE,OAAO,CAAE,IAAI,CAACC,YAAa,CAAAF,QAAA,eAChDd,IAAA,SAAMa,SAAS,CAAC,OAAO,CAAO,CAAC,cAC/Bb,IAAA,SAAMa,SAAS,CAAC,OAAO,CAAO,CAAC,EAC7B,CAAC,CACN,CAAC,EACL,CAAC,cACNb,IAAA,CAACJ,QAAQ,EAACqB,WAAW,CAAE,IAAI,CAACR,WAAY,CAACO,YAAY,CAAE,IAAI,CAACA,YAAa,CAAC,CAAC,cAC3Ed,KAAA,QAAKW,SAAS,CAAC,SAAS,CAAAC,QAAA,eACpBd,IAAA,QAAKa,SAAS,CAAC,OAAO,CAAAC,QAAA,CACrB,IAAI,CAACP,KAAK,CAACC,UAAU,CAACU,GAAG,CAAC,CAACC,SAAS,CAAEC,KAAK,gBAExCpB,IAAA,QAAiBe,OAAO,CAAEA,CAAA,GAAM,CAAC,IAAI,CAACJ,OAAO,CAACS,KAAK,CAAEC,KAAK,CAAC,EAAE,CAAAP,QAAA,CAAEK,SAAS,EAA9DC,KAAoE,CACjF,CAAC,CACG,CAAC,cACNpB,IAAA,CAACL,OAAO,EAAC2B,OAAO,CAAE,IAAI,CAACN,YAAa,CAAC,CAAC,EACrC,CAAC,EAEL,CAAC,CAEd,CAGAL,OAAOA,CAACS,KAAK,CAAEC,KAAK,CAAC,CACjBE,OAAO,CAACC,GAAG,CAACH,KAAK,CAACI,MAAM,CAAC,CACzBF,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAEJ,KAAK,CAAC,CAC9C,GAAGC,KAAK,CAACI,MAAM,CAACZ,SAAS,GAAK,UAAU,EAAIQ,KAAK,CAACI,MAAM,CAACZ,SAAS,GAAK,OAAO,EAAIQ,KAAK,CAACI,MAAM,CAACZ,SAAS,GAAK,OAAO,CAAC,CACjHU,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC,CACnB,IAAI,CAACE,QAAQ,CAACN,KAAK,CAAC,CACxB,CAAC,IAAM,CACHG,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,IAAI,CAACjB,KAAK,CAACC,UAAU,CAAC,CACjD,KAAM,CAAAmB,IAAI,CAAG,IAAI,CAACpB,KAAK,CAACC,UAAU,CAACY,KAAK,CAAC,CAACd,KAAK,CAACsB,QAAQ,CACxD,KAAM,CAAAC,KAAK,CAAG,IAAI,CAACtB,KAAK,CAACC,UAAU,CAACY,KAAK,CAAC,CAACd,KAAK,CAACwB,SAAS,CAC1D,IAAI,CAACd,YAAY,CAACW,IAAI,CAACE,KAAK,CAACT,KAAK,CAAC,CACvC,CAEJ,CAEAW,iBAAiBA,CAAA,CAAG,CAChBC,OAAO,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW,CAAEC,OAAO,EAAK,CACjD,GAAIA,OAAO,CAACC,OAAO,GAAK,cAAc,CAAE,CACtC,IAAI,CAAC5B,WAAW,CAAC,CAAC,CACpB,CACF,CAAC,CAAC,CACJ,CAEFiB,QAAQA,CAACN,KAAK,CAAC,CACX,IAAI,CAACkB,QAAQ,CAAC,CAAC9B,UAAU,CAAE,EAAE,CAAC,CAAC,CAC/BwB,OAAO,CAACC,OAAO,CAACM,WAAW,CAAC,CAAEF,OAAO,CAAE,UAAU,CAAEjB,KAAK,CAAEA,KAAK,CAAC,CAAGoB,QAAQ,EAAK,CAC5E,IAAI,GAAI,CAAAC,CAAC,CAAGD,QAAQ,CAACE,MAAM,CAAG,CAAC,CAAED,CAAC,EAAI,CAAC,CAAEA,CAAC,EAAE,CAAC,CACzC,IAAI,CAACH,QAAQ,CAAEK,SAAS,GAAM,CAC1BnC,UAAU,CAAE,CACV,GAAGmC,SAAS,CAACnC,UAAU,cACvBR,IAAA,CAACH,IAAI,EAAC+C,IAAI,CAAEJ,QAAQ,CAACC,CAAC,CAAC,CAACG,IAAI,CAAG,MAAM,CAAG,EAAG,CAAmChB,QAAQ,CAAEY,QAAQ,CAACC,CAAC,CAAC,CAACd,IAAK,CAACkB,SAAS,CAAEL,QAAQ,CAACC,CAAC,CAAC,CAACI,SAAU,CAACf,SAAS,CAAEU,QAAQ,CAACC,CAAC,CAAC,CAACZ,KAAM,EAAxHc,SAAS,CAACnC,UAAU,CAACkC,MAAoG,CAAC,CAE/K,CAAC,CAAC,CAAC,CACT,CACJ,CAAC,CAAC,CACN,CAEAjC,WAAWA,CAAA,CAAE,CACT,IAAI,CAAC6B,QAAQ,CAAC,CAAC9B,UAAU,CAAE,EAAE,CAAC,CAAC,CAC/BwB,OAAO,CAACC,OAAO,CAACM,WAAW,CAAC,CAAEF,OAAO,CAAE,aAAa,CAAC,CAAGG,QAAQ,EAAK,CACjEjB,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEgB,QAAQ,CAAC,CAC1C,IAAI,GAAI,CAAAC,CAAC,CAAGD,QAAQ,CAACE,MAAM,CAAG,CAAC,CAAED,CAAC,EAAI,CAAC,CAAEA,CAAC,EAAE,CAAC,CACzClB,OAAO,CAACC,GAAG,CAACiB,CAAC,CAAC,CACd,IAAI,CAACH,QAAQ,CAAEK,SAAS,GAAM,CAC1BnC,UAAU,CAAE,CACV,GAAGmC,SAAS,CAACnC,UAAU,cACvBR,IAAA,CAACH,IAAI,EAAC+C,IAAI,CAAEJ,QAAQ,CAACC,CAAC,CAAC,CAACG,IAAI,CAAG,MAAM,CAAG,EAAG,CAAmChB,QAAQ,CAAEY,QAAQ,CAACC,CAAC,CAAC,CAACd,IAAK,CAACkB,SAAS,CAAEL,QAAQ,CAACC,CAAC,CAAC,CAACI,SAAU,CAACf,SAAS,CAAEU,QAAQ,CAACC,CAAC,CAAC,CAACZ,KAAM,EAAxHc,SAAS,CAACnC,UAAU,CAACkC,MAAoG,CAAC,CAE/K,CAAC,CAAC,CAAC,CACT,CACJ,CAAC,CAAC,CACN,CAGA1B,YAAYA,CAACW,IAAI,CAAEE,KAAK,CAAET,KAAK,CAAC,CAC5BG,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEJ,KAAK,CAAC,CAClC,KAAM,CAAAE,OAAO,CAAGwB,QAAQ,CAACC,aAAa,CAAC,qBAAqB,CAAC,CAC7D,GAAGzB,OAAO,CAAC0B,SAAS,CAACC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CACpC3B,OAAO,CAAC0B,SAAS,CAACE,MAAM,CAAC,QAAQ,CAAC,CACtC,CAAC,IAAM,CACH5B,OAAO,CAAC0B,SAAS,CAACG,GAAG,CAAC,QAAQ,CAAC,CAC/B,KAAM,CAAAC,IAAI,CAAG9B,OAAO,CAACyB,aAAa,CAAC,WAAW,CAAC,CAC/CK,IAAI,CAACxB,QAAQ,CAACyB,KAAK,CAAG,EAAE,CACxBD,IAAI,CAACtB,SAAS,CAACuB,KAAK,CAAG,GAAG,CAC1BD,IAAI,CAACE,SAAS,CAACD,KAAK,CAAG,EAAE,CACzB,GAAGE,SAAS,CAACb,MAAM,GAAK,CAAC,CAAC,CACtBU,IAAI,CAACxB,QAAQ,CAACyB,KAAK,CAAG1B,IAAI,CAC1ByB,IAAI,CAACtB,SAAS,CAACuB,KAAK,CAAGxB,KAAK,CAC5BuB,IAAI,CAACE,SAAS,CAACD,KAAK,CAAG,EAAE,CAAGjC,KAAK,CACjCG,OAAO,CAACC,GAAG,CAAC4B,IAAI,CAACE,SAAS,CAACD,KAAK,CAAC,CACrC,CACJ,CACJ,CAEJ,CAEA,cAAe,CAAAlD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}